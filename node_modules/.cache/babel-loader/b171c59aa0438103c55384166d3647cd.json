{"ast":null,"code":"import _regeneratorRuntime from\"/Users/esshwarkishore/Documents/Project/Food app /foodapp-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/esshwarkishore/Documents/Project/Food app /foodapp-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';export var registerUser=function registerUser(user){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _localStorage$getItem,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'USER_REGISTER_REQUEST'});_context.prev=1;_context.next=4;return axios.post('/api/users/register',user,{'x-auth-token':(_localStorage$getItem=localStorage.getItem(''))===null||_localStorage$getItem===void 0?void 0:_localStorage$getItem.token});case 4:response=_context.sent;dispatch({type:'USER_REGISTER_SUCCESS'});console.log(response);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatch({type:'USER_REGISTER_FAILED',payload:_context.t0});case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var loginUser=function loginUser(user){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:'USER_LOGIN_REQUEST'});_context2.prev=1;_context2.next=4;return axios.post('/api/users/login',user);case 4:response=_context2.sent;dispatch({type:'USER_LOGIN_SUCCESS',payload:response.data});localStorage.setItem('currentUser',JSON.stringify(response.data));window.location.href='/';console.log(response);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](1);dispatch({type:'USER_LOGIN_FAILED',payload:_context2.t0});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[1,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var logoutUser=function logoutUser(){return function(dispatch){localStorage.removeItem('currentUser');window.location.href='/login';};};","map":{"version":3,"sources":["/Users/esshwarkishore/Documents/Project/Food app /foodapp-client/src/actions/userAction.js"],"names":["axios","registerUser","user","dispatch","type","post","localStorage","getItem","token","response","console","log","payload","loginUser","data","setItem","JSON","stringify","window","location","href","logoutUser","removeItem"],"mappings":"2WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,iGAAU,iBAAMC,QAAN,qJAClCA,QAAQ,CAAC,CAAEC,IAAI,CAAE,uBAAR,CAAD,CAAR,CADkC,sCAGPJ,CAAAA,KAAK,CAACK,IAAN,CAAW,qBAAX,CAAkCH,IAAlC,CAAwC,CAC3D,sCAAgBI,YAAY,CAACC,OAAb,CAAqB,EAArB,CAAhB,gDAAgB,sBAA0BC,KADiB,CAAxC,CAHO,QAGxBC,QAHwB,eAM9BN,QAAQ,CAAC,CAAEC,IAAI,CAAE,uBAAR,CAAD,CAAR,CACAM,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAP8B,+EAU9BN,QAAQ,CAAC,CAAEC,IAAI,CAAE,sBAAR,CAAgCQ,OAAO,YAAvC,CAAD,CAAR,CAV8B,oEAAV,gEAArB,CAcP,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACX,IAAD,kGAAU,kBAAMC,QAAN,mIAC/BA,QAAQ,CAAC,CAAEC,IAAI,CAAE,oBAAR,CAAD,CAAR,CAD+B,wCAGJJ,CAAAA,KAAK,CAACK,IAAN,CAAW,kBAAX,CAA+BH,IAA/B,CAHI,QAGrBO,QAHqB,gBAI3BN,QAAQ,CAAC,CAAEC,IAAI,CAAE,oBAAR,CAA8BQ,OAAO,CAAEH,QAAQ,CAACK,IAAhD,CAAD,CAAR,CACAR,YAAY,CAACS,OAAb,CAAqB,aAArB,CAAoCC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACK,IAAxB,CAApC,EACAI,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACAV,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAP2B,qFAU3BN,QAAQ,CAAC,CAAEC,IAAI,CAAE,mBAAR,CAA6BQ,OAAO,aAApC,CAAD,CAAR,CAV2B,uEAAV,kEAAlB,CAcP,MAAO,IAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAM,UAAAlB,QAAQ,CAAI,CACxCG,YAAY,CAACgB,UAAb,CAAwB,aAAxB,EACAJ,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACH,CAHyB,EAAnB","sourcesContent":["import axios from 'axios';\nexport const registerUser = (user) => async dispatch => {\n    dispatch({ type: 'USER_REGISTER_REQUEST' })\n    try {\n        const response = await axios.post('/api/users/register', user, {\n            'x-auth-token': localStorage.getItem('')?.token\n        })\n        dispatch({ type: 'USER_REGISTER_SUCCESS' })\n        console.log(response);\n    }\n    catch (error) {\n        dispatch({ type: 'USER_REGISTER_FAILED', payload: error })\n    }\n}\n\nexport const loginUser = (user) => async dispatch => {\n    dispatch({ type: 'USER_LOGIN_REQUEST' })\n    try {\n        const response = await axios.post('/api/users/login', user)\n        dispatch({ type: 'USER_LOGIN_SUCCESS', payload: response.data })\n        localStorage.setItem('currentUser', JSON.stringify(response.data))\n        window.location.href = '/'\n        console.log(response);\n    }\n    catch (error) {\n        dispatch({ type: 'USER_LOGIN_FAILED', payload: error })\n    }\n}\n\nexport const logoutUser = () => dispatch => {\n    localStorage.removeItem('currentUser')\n    window.location.href = '/login'\n}"]},"metadata":{},"sourceType":"module"}
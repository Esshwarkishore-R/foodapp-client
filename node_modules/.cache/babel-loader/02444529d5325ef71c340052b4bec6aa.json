{"ast":null,"code":"import axios from 'axios';\nexport const registerUser = user => async dispatch => {\n  dispatch({\n    type: 'USER_REGISTER_REQUEST'\n  });\n\n  try {\n    var _localStorage$getItem;\n\n    const response = await axios.post('/api/users/register', user, {\n      'x-auth-token': (_localStorage$getItem = localStorage.getItem('')) === null || _localStorage$getItem === void 0 ? void 0 : _localStorage$getItem.token\n    });\n    dispatch({\n      type: 'USER_REGISTER_SUCCESS'\n    });\n    console.log(response);\n  } catch (error) {\n    dispatch({\n      type: 'USER_REGISTER_FAILED',\n      payload: error\n    });\n  }\n};\nexport const loginUser = user => async dispatch => {\n  dispatch({\n    type: 'USER_LOGIN_REQUEST'\n  });\n\n  try {\n    const response = await axios.post('/api/users/login', user);\n    dispatch({\n      type: 'USER_LOGIN_SUCCESS',\n      payload: response.data\n    });\n    localStorage.setItem('currentUser', JSON.stringify(response.data));\n    window.location.href = '/';\n    console.log(response);\n  } catch (error) {\n    dispatch({\n      type: 'USER_LOGIN_FAILED',\n      payload: error\n    });\n  }\n};\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem('currentUser');\n  window.location.href = '/login';\n};","map":{"version":3,"sources":["/Users/esshwarkishore/Documents/Project/Food app /foodapp-client/src/actions/userAction.js"],"names":["axios","registerUser","user","dispatch","type","response","post","localStorage","getItem","token","console","log","error","payload","loginUser","data","setItem","JSON","stringify","window","location","href","logoutUser","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU,MAAMC,QAAN,IAAkB;AACpDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;;AACA,MAAI;AAAA;;AACA,UAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAN,CAAW,qBAAX,EAAkCJ,IAAlC,EAAwC;AAC3D,+CAAgBK,YAAY,CAACC,OAAb,CAAqB,EAArB,CAAhB,0DAAgB,sBAA0BC;AADiB,KAAxC,CAAvB;AAGAN,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACH,GAND,CAOA,OAAOO,KAAP,EAAc;AACVT,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,sBAAR;AAAgCS,MAAAA,OAAO,EAAED;AAAzC,KAAD,CAAR;AACH;AACJ,CAZM;AAcP,OAAO,MAAME,SAAS,GAAIZ,IAAD,IAAU,MAAMC,QAAN,IAAkB;AACjDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;;AACA,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAN,CAAW,kBAAX,EAA+BJ,IAA/B,CAAvB;AACAC,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,oBAAR;AAA8BS,MAAAA,OAAO,EAAER,QAAQ,CAACU;AAAhD,KAAD,CAAR;AACAR,IAAAA,YAAY,CAACS,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeb,QAAQ,CAACU,IAAxB,CAApC;AACAI,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACH,GAND,CAOA,OAAOO,KAAP,EAAc;AACVT,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,mBAAR;AAA6BS,MAAAA,OAAO,EAAED;AAAtC,KAAD,CAAR;AACH;AACJ,CAZM;AAcP,OAAO,MAAMU,UAAU,GAAG,MAAMnB,QAAQ,IAAI;AACxCI,EAAAA,YAAY,CAACgB,UAAb,CAAwB,aAAxB;AACAJ,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACH,CAHM","sourcesContent":["import axios from 'axios';\nexport const registerUser = (user) => async dispatch => {\n    dispatch({ type: 'USER_REGISTER_REQUEST' })\n    try {\n        const response = await axios.post('/api/users/register', user, {\n            'x-auth-token': localStorage.getItem('')?.token\n        })\n        dispatch({ type: 'USER_REGISTER_SUCCESS' })\n        console.log(response);\n    }\n    catch (error) {\n        dispatch({ type: 'USER_REGISTER_FAILED', payload: error })\n    }\n}\n\nexport const loginUser = (user) => async dispatch => {\n    dispatch({ type: 'USER_LOGIN_REQUEST' })\n    try {\n        const response = await axios.post('/api/users/login', user)\n        dispatch({ type: 'USER_LOGIN_SUCCESS', payload: response.data })\n        localStorage.setItem('currentUser', JSON.stringify(response.data))\n        window.location.href = '/'\n        console.log(response);\n    }\n    catch (error) {\n        dispatch({ type: 'USER_LOGIN_FAILED', payload: error })\n    }\n}\n\nexport const logoutUser = () => dispatch => {\n    localStorage.removeItem('currentUser')\n    window.location.href = '/login'\n}"]},"metadata":{},"sourceType":"module"}